<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Servlet Test</title>
  <script type="text/javascript" src="../resources/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="../resources/json2.js"></script>
</head>
<body>
<h3> Test Page</h3>

<p><a href = "#" id = "MakeMove">Make A Move</a></p>
<p><a href = "#" id = "GetMatchInfo">Get Match Info</a></p>

<script type="text/javascript">
$(document).ready(function() {
  $("#MakeMove").on("click", function(event) {
      var jsonObj = {
					"accessSignature": "HASHACCESSSIGNATURE",
					"operations": [
							{
									"value": "sd",
									"type": "Set",
									"visibleToPlayerIds": "ALL",
									"key": "k"
							},
							{
									"to": 54,
									"from": 23,
									"type": "SetRandomInteger",
									"key": "xcv"
							}
					]
			};
		  $.ajax({
		    url: "http://localhost:8888/matches/1231231", 
		    type: "POST",
    		dataType: 'json',
		    data: JSON.stringify(jsonObj),
		    success: function(data, textStatus, jqXHR) {
		      alert("SUCCESS");
		    },
		    error: function(jqXHR, textStatus, errorThrown) {
		      alert("ERROR: " + textStatus + " " + errorThrown);
		    }});
  });
  $("#GetMatchInfo").on("click", function(event) {
		  $.ajax({
		    url: "http://localhost:8888/matches/123123?accessSignature=HASHACCESSSIGNATURE", 
		    type: "GET",
		    success: function(data, textStatus, jqXHR) {
		      alert("SUCCESS");
		    },
		    error: function(jqXHR, textStatus, errorThrown) {
		      alert("ERROR: " + textStatus + " " + errorThrown);
		    }});
  });
});

</script>
</body>
</html>
